<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7xscreenshare</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for a modern look */
        body {
            font-family: "Inter", sans-serif;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 flex items-center justify-center min-h-screen">
    <div class="text-center">
        <h1 class="text-6xl md:text-8xl lg:text-9xl font-extrabold text-blue-400 rounded-lg p-4">
            7xscreenshare
        </h1>
        <pre id="response"></pre>
    </div>
    <script>
        async function start() {
          const response_placeholder = document.getElementById('response');
          const pc = new RTCPeerConnection();
      
          // Add dummy data channel to include media in SDP
          pc.createDataChannel("test");
      
          try {
            const offer = await pc.createOffer();
            await pc.setLocalDescription(offer);
      
            const res = await fetch('/sdp', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(pc.localDescription),
            });
      
            if (res.ok) {
              const answer = await res.json();
              response_placeholder.textContent = JSON.stringify(answer, null, 2);
              await pc.setRemoteDescription(answer);
            } else {
              response_placeholder.textContent = "Error: " + res.statusText;
            }
          } catch (error) {
            console.error(error);
            response_placeholder.textContent = "Exception: " + error;
          }
        }
      
        // Call start on page load
        window.onload = start;
      </script>
      
</body>
</html>
